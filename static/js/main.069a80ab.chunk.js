(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/kara-eads-unsplash.9e8d1d50.jpg"},33:function(e,t,a){e.exports=a.p+"static/media/charisse-kenion-unsplash.e75f2de6.jpg"},36:function(e,t,a){e.exports=a(49)},45:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(28),s=a.n(c),i=a(7),o=a(6),u=Object(o.combineReducers)({desserts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RECIPES":return t.recipes;case"UPDATE_RECIPE_NOTES":return e.map(function(e){return e.id===t.id&&(e.notes=t.notes),e});case"DELETE_RECIPE_NOTES":return e.map(function(e){return e.id===t.id&&(e.notes=""),e});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.message;default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STATUS":return t.status;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_LOADING":return t.bool;default:return e}},attribution:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ATTRIBUTION":return t.attribution;default:return e}}}),l=a(30),p=a(52),m=a(31),d=(a(45),a(9)),h=a(10),f=a(14),E=a(11),v=a(13),g=a(54),R=a(32),b=a(53),N=a(5),y=a.n(N),O=a(12),S=function(){var e=Object(O.a)(y.a.mark(function e(t){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error(a.message);case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),k=function(e){return{type:"TOGGLE_LOADING",bool:e}},T=function(e){return{type:"SET_ERROR",message:e}},C=function(e){return{type:"SET_RECIPES",recipes:e}},w="3f840959fa123eeaed4c974652afd47f",j=a(35),_=function(e){return function(t){t(k(!0));var a=e.map(function(){var e=Object(O.a)(y.a.mark(function e(a){var r,n,c,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="https://api.yummly.com/v1/api/recipe/".concat(a.id,"?_app_id=").concat("74e54461","&_app_key=").concat(w),e.next=4,S(r);case 4:return n=e.sent,c=a.notes||"",s=Object(j.a)({},n,{notes:c}),t(k(!1)),e.abrupt("return",s);case 11:e.prev=11,e.t0=e.catch(0),t(T(e.t0.message));case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}());return Promise.all(a)}},U=a(21),x=function(e,t){if(!t)return e;var a=[];return t.forEach(function(t){var r=!1;e.forEach(function(e){e.id===t.id&&(r=!0,e.notes=t.notes)}),r||a.push(t)}),[].concat(Object(U.a)(e),a)},I=a(25),L=function(e){var t,a=e.recipe;return t=""===a.notes?"/desserts/":"/my-recipes/",n.a.createElement(I.a,{className:"RecipeLinkCard--Link",to:t+a.id},n.a.createElement("div",{className:"RecipeLinkCard--div"},n.a.createElement("img",{className:"RecipeLinkCard-img",src:a.images[0].hostedLargeUrl,alt:a.name}),n.a.createElement("h2",null,a.name),n.a.createElement("p",null,"Time: ",a.totalTime),n.a.createElement("p",null,"From: ",a.source.sourceDisplayName)))},A=a(50),D=a(17),P=a.n(D),J=function(){return n.a.createElement("div",{className:"UserInstructions--div"},n.a.createElement("img",{className:"UserInstructions-img",src:P.a,alt:"Empty recipe book and measuring cups"}),n.a.createElement("h2",null,"Start saving your recipes today!"),n.a.createElement("p",null,"Click on a recipe"),n.a.createElement("p",null,"Add your personal baking notes and then save the recipe for future reference"),n.a.createElement(A.a,{to:"/"},n.a.createElement("button",{className:"UserInstructions--button"},"Get started")))},G=function(e){function t(){var e,a;Object(d.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(c)))).getRecipesToDisplay=function(){switch(a.props.match.path){case"/my-recipes":return a.populateUserRecipes();case"/desserts":case"/":default:return a.populateRecipesWithoutUsers()}},a.populateUserRecipes=function(){var e=a.props.desserts.reduce(function(e,t){return""!==t.notes&&e.push(n.a.createElement(L,{recipe:t,key:t.id})),e},[]);return e.length?e:n.a.createElement(J,null)},a.populateRecipesWithoutUsers=function(){return a.props.desserts.reduce(function(e,t){return""===t.notes&&e.push(n.a.createElement(L,{recipe:t,key:t.id})),e},[])},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"RecipeContainer"},this.getRecipesToDisplay())}}]),t}(r.Component),M=Object(i.b)(function(e){return{desserts:e.desserts}})(G),W=a(51),B=function(e,t){var a=JSON.stringify([{id:e,notes:t}]);localStorage.setItem("userRecipes",a)},q=function(e,t){var a,r=JSON.parse(localStorage.getItem("userRecipes"));a=r.find(function(t){return t.id===e})?r.map(function(a){return a.id===e&&(a.notes=t),a}):[].concat(Object(U.a)(r),[{id:e,notes:t}]),localStorage.setItem("userRecipes",JSON.stringify(a))},F=function(e){var t=JSON.parse(localStorage.getItem("userRecipes")).filter(function(t){return t.id!==e});localStorage.setItem("userRecipes",JSON.stringify(t))},K=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(f.a)(this,Object(E.a)(t).call(this))).componentDidMount=function(){var t=e.props.recipe.notes;e.setState({notes:t})},e.componentWillUnmount=function(){e.props.setStatus("")},e.handleChange=function(t){var a=t.target.value;e.setState({notes:a})},e.handleDelete=function(){var t=e.props,a=t.deleteRecipeNotes,r=t.setStatus,n=t.recipe;F(n.id),a(n.id),r("success")},e.handleSave=function(){var t=e.props.recipe.id,a=e.state.notes,r=e.props,n=r.setStatus;(0,r.updateRecipeNotes)(t,a),localStorage.hasOwnProperty("userRecipes")?q(t,a):B(t,a),n("success")},e.state={notes:""},e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.recipe,t=e.images,a=e.name,r=e.source,c=e.totalTime,s=this.props.match,i="RecipeCard--div--button";return"/my-recipes/:id"===s.path&&(i="RecipeCard--div--buttons"),n.a.createElement("article",{className:"RecipeCard--article"},n.a.createElement("div",{className:i},n.a.createElement(A.a,{to:"/"},n.a.createElement("button",{className:"RecipeCard--icon--close"},n.a.createElement("i",{className:"far fa-times-circle"}))),"/my-recipes/:id"===s.path&&n.a.createElement("button",{onClick:this.handleDelete,className:"RecipeCard--icon--delete"},n.a.createElement("i",{className:"far fa-trash-alt"}))),n.a.createElement("div",{className:"RecipeCard--div--flex"},n.a.createElement("div",{className:"RecipeCard--div"},n.a.createElement("a",{className:"RecipeCard--anchor",href:r.sourceRecipeUrl,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{className:"RecipeCard--img",src:t[0].hostedLargeUrl,alt:a})),n.a.createElement("p",{className:"RecipeCard--p"},"Time: ",c),n.a.createElement("p",{className:"RecipeCard--p"},"From: ",r.sourceDisplayName)),n.a.createElement("div",{className:"RecipeCard--div-notes"},n.a.createElement("a",{className:"RecipeCard--anchor",href:r.sourceRecipeUrl,target:"_blank",rel:"noopener noreferrer"},a),n.a.createElement("p",{className:"RecipeCard--p--large"},"My Baking Notes:"),n.a.createElement("textarea",{className:"RecipeCard--textarea",value:this.state.notes,onChange:this.handleChange,placeholder:"Save your baking notes and specific oven instructrions"}),n.a.createElement("button",{onClick:this.handleSave,className:"RecipeCard--button"},"Save"))),"success"===this.props.status&&n.a.createElement(W.a,{to:"/"}))}}]),t}(r.Component),H=Object(i.b)(function(e){return{status:e.status}},function(e){return{deleteRecipeNotes:function(t){return e(function(e){return{type:"DELETE_RECIPE_NOTES",id:e}}(t))},updateRecipeNotes:function(t,a){return e(function(e,t){return{type:"UPDATE_RECIPE_NOTES",id:e,notes:t}}(t,a))},setStatus:function(t){return e(function(e){return{type:"SET_STATUS",status:e}}(t))}}})(K),Y=function(){return n.a.createElement("div",{className:"Error404"},n.a.createElement("h1",null,"No recipe found"),n.a.createElement("img",{className:"Error404--img",src:P.a,alt:"Empty recipe book and measuring cups"}),n.a.createElement("p",{className:"Error404--p--credit"},"Photo by Kara Eads on Unsplash"))},$=function(e){return n.a.createElement("div",{className:"Nav--div"},n.a.createElement(A.a,{className:"Nav--NavLink--margin",to:"/"},"Home"),n.a.createElement(A.a,{className:"Nav--NavLink",to:"/my-recipes"},"My ",e.totalUserRecipes," Recipes"))},z=a(33),Q=a.n(z),V=function(){return n.a.createElement("div",{className:"Loading"},n.a.createElement("h1",null,"Mixing up some great recipes..."),n.a.createElement("img",{className:"Loading--img",src:Q.a,alt:"chocolate chip cookie dough in a mixing bowl"}),n.a.createElement("p",{className:"Loading--p--credit"},"Photo by Charisse Kenion on Unsplash"))},X=function(e){function t(){var e,a;Object(d.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(c)))).calculateTotalUserRecipes=function(){return a.props.desserts.reduce(function(e,t){return""!==t.notes?e+=1:e},0)},a.getRecipeRoute=function(e){var t=e.match,r=a.props.desserts.find(function(e){return e.id===t.params.id});return r?n.a.createElement(H,{match:t,recipe:r}):n.a.createElement(Y,null)},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.fetchRecipesAndAttribution;localStorage.hasOwnProperty("userRecipes")?e(JSON.parse(localStorage.getItem("userRecipes"))):e()}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.attribution;return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App--header"},n.a.createElement("h1",{className:"App--h1"},"Mix It Up"),n.a.createElement($,{totalUserRecipes:this.calculateTotalUserRecipes()})),t&&n.a.createElement(V,null),n.a.createElement(g.a,null,n.a.createElement(R.a,{exact:!0,path:"/desserts",render:function(e){var t=e.match;return n.a.createElement(M,{match:t})}}),n.a.createElement(R.a,{exact:!0,path:"/my-recipes",render:function(e){var t=e.match;return n.a.createElement(M,{match:t})}}),n.a.createElement(R.a,{path:"/my-recipes/:id",render:this.getRecipeRoute}),n.a.createElement(R.a,{path:"/desserts/:id",render:this.getRecipeRoute}),n.a.createElement(R.a,{exact:!0,path:"/",render:function(e){var t=e.match;return n.a.createElement(M,{match:t})}}),n.a.createElement(R.a,{component:Y})),n.a.createElement("div",{className:"App--div-attribution"},n.a.createElement("p",null,"Recipe search powered by",n.a.createElement("a",{className:"App--div-anchor",href:a.url},n.a.createElement("img",{alt:"Yummly",src:a.logo})))))}}]),t}(r.Component),Z=Object(b.a)(Object(i.b)(function(e){return{desserts:e.desserts,error:e.error,isLoading:e.isLoading,attribution:e.attribution}},function(e){return{fetchRecipesAndAttribution:function(t){return e((a=t,function(){var e=Object(O.a)(y.a.mark(function e(t){var r,n,c,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(k(!0)),r="https://api.yummly.com/v1/api/recipes?_app_id=".concat("74e54461","&_app_key=").concat(w,"&q=desserts&requirePictures=true&maxResult=30&start=40"),e.next=5,S(r);case 5:return n=e.sent,e.next=8,x(n.matches,a);case 8:return c=e.sent,e.next=11,t(_(c));case 11:s=e.sent,t(k(!1)),t(C(s)),t({type:"SET_ATTRIBUTION",attribution:n.attribution}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),t(T(e.t0.message));case 20:case"end":return e.stop()}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}()));var a}}})(X));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=Object(l.composeWithDevTools)(Object(o.applyMiddleware)(m.a)),te=Object(o.createStore)(u,ee),ae=n.a.createElement(i.a,{store:te},n.a.createElement(p.a,null,n.a.createElement(Z,null)));s.a.render(ae,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.069a80ab.chunk.js.map